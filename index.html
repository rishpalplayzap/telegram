<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Telegram Login Test</title>
  </head>
  <body>
    <h2>Telegram Login Test</h2>

    <!-- Container for Telegram Login Button -->
    <div id="telegram-login-container"></div>

    <script>
      // ✅ Callback when user approves login
      window.onTelegramAuth = function (user) {
        console.log("✅ Telegram user data:", user);
        alert(
          "Logged in as " + user.first_name + " (ID: " + user.id + ")"
        );
      };

      // ✅ Load Telegram Login Widget
      (function () {
        const script = document.createElement("script");
        script.src = "https://telegram.org/js/telegram-widget.js?22";
        script.async = true;
        script.setAttribute("data-telegram-login", "rishpalBot"); // <-- bot username without @
        script.setAttribute("data-size", "large");
        script.setAttribute("data-onauth", "onTelegramAuth");
        script.setAttribute("data-request-access", "write");
        document
          .getElementById("telegram-login-container")
          .appendChild(script);
      })();
    </script>
  </body>
</html>
